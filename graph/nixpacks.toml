[variables]
PYTHONPATH = "/app/src"
NIXPACKS_METADATA = "python,uv,nodejs"

[phases.setup]
nixPkgs = ["python312", "uv", "nodejs"]

[phases.install]
dependsOn = ["setup"]
cmds = ["uv sync --frozen", "uv run langgraph dockerfile --output-path Dockerfile"]

# Note: Railway will use the generated Dockerfile instead of this start command 